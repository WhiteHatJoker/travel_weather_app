import { getTravelDateWeather } from '../src/client/js/app';

describe("Testing Form Input Results", () => {
    test("Testing filtering only necessary weather data based on travel date", () => {
        const mockData = 
        [
            {
              moonrise_ts: 1597099186,
              wind_cdir: 'SSE',
              rh: 51,
              pres: 760.626,
              high_temp: 24.9,
              sunset_ts: 1597086579,
              ozone: 272.173,
              moon_phase: 0.615164,
              wind_gust_spd: 19.1471,
              snow_depth: 0,
              clouds: 58,
              ts: 1597014060,
              sunrise_ts: 1597037986,
              app_min_temp: 15.5,
              wind_spd: 2.47984,
              pop: 25,
              wind_cdir_full: 'south-southeast',
              slp: 1018.81,
              moon_phase_lunation: 0.69,
              valid_date: '2020-08-10',
              app_max_temp: 24.2,
              vis: 0,
              dewpt: 7.6,
              snow: 0,
              uv: 6.57096,
              weather: { icon: 'c03d', code: 803, description: 'Broken clouds' },
              wind_dir: 161,
              max_dhi: null,
              clouds_hi: 17,
              precip: 1.08984,
              low_temp: 15.2,
              max_temp: 24.9,
              moonset_ts: 1597059774,
              datetime: '2020-08-10',
              temp: 19.1,
              min_temp: 15.5,
              clouds_mid: 52,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597100937,
              wind_cdir: 'SSW',
              rh: 51,
              pres: 759.732,
              high_temp: 24,
              sunset_ts: 1597172919,
              ozone: 281.236,
              moon_phase: 0.517814,
              wind_gust_spd: 16.2228,
              snow_depth: 0,
              clouds: 54,
              ts: 1597100460,
              sunrise_ts: 1597124427,
              app_min_temp: 15.2,
              wind_spd: 3.65439,
              pop: 15,
              wind_cdir_full: 'south-southwest',
              slp: 1017.58,
              moon_phase_lunation: 0.73,
              valid_date: '2020-08-11',
              app_max_temp: 23.2,
              vis: 0,
              dewpt: 7.1,
              snow: 0,
              uv: 6.2492,
              weather: { icon: 'c03d', code: 803, description: 'Broken clouds' },
              wind_dir: 201,
              max_dhi: null,
              clouds_hi: 1,
              precip: 0.445312,
              low_temp: 15.5,
              max_temp: 24,
              moonset_ts: 1597149467,
              datetime: '2020-08-11',
              temp: 18.8,
              min_temp: 15.2,
              clouds_mid: 52,
              clouds_low: 2
            },
            {
              moonrise_ts: 1597189241,
              wind_cdir: 'SW',
              rh: 44,
              pres: 760.414,
              high_temp: 25.9,
              sunset_ts: 1597259258,
              ozone: 283.564,
              moon_phase: 0.418345,
              wind_gust_spd: 16.7721,
              snow_depth: 0,
              clouds: 39,
              ts: 1597186860,
              sunrise_ts: 1597210867,
              app_min_temp: 16.2,
              wind_spd: 4.00787,
              pop: 20,
              wind_cdir_full: 'southwest',
              slp: 1017.75,
              moon_phase_lunation: 0.76,
              valid_date: '2020-08-12',
              app_max_temp: 25.1,
              vis: 0,
              dewpt: 6,
              snow: 0,
              uv: 7.22026,
              weather: { icon: 'c02d', code: 802, description: 'Scattered clouds' },
              wind_dir: 215,
              max_dhi: null,
              clouds_hi: 2,
              precip: 0.828125,
              low_temp: 16.3,
              max_temp: 25.9,
              moonset_ts: 1597239245,
              datetime: '2020-08-12',
              temp: 19.9,
              min_temp: 16.2,
              clouds_mid: 38,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597277779,
              wind_cdir: 'S',
              rh: 32,
              pres: 791.724,
              high_temp: 28.2,
              sunset_ts: 1597345596,
              ozone: 277.933,
              moon_phase: 0.319898,
              wind_gust_spd: 8.71676,
              snow_depth: 0,
              clouds: 66,
              ts: 1597273260,
              sunrise_ts: 1597297308,
              app_min_temp: 17.8,
              wind_spd: 3.17653,
              pop: 0,
              wind_cdir_full: 'south',
              slp: 1015.6,
              moon_phase_lunation: 0.79,
              valid_date: '2020-08-13',
              app_max_temp: 26.8,
              vis: 24.135,
              dewpt: 4.7,
              snow: 0,
              uv: 7.41609,
              weather: { icon: 'c03d', code: 803, description: 'Broken clouds' },
              wind_dir: 187,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 18.2,
              max_temp: 28.2,
              moonset_ts: 1597329107,
              datetime: '2020-08-13',
              temp: 22.9,
              min_temp: 18.1,
              clouds_mid: 66,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597366633,
              wind_cdir: 'SE',
              rh: 45,
              pres: 791.874,
              high_temp: 26.2,
              sunset_ts: 1597431933,
              ozone: 270.086,
              moon_phase: 0.226328,
              wind_gust_spd: 6.62298,
              snow_depth: 0,
              clouds: 52,
              ts: 1597359660,
              sunrise_ts: 1597383748,
              app_min_temp: 16.4,
              wind_spd: 2.67977,
              pop: 75,
              wind_cdir_full: 'southeast',
              slp: 1016.07,
              moon_phase_lunation: 0.83,
              valid_date: '2020-08-14',
              app_max_temp: 25.6,
              vis: 23.8919,
              dewpt: 7.7,
              snow: 0,
              uv: 5.08043,
              weather: { icon: 'r02d', code: 501, description: 'Moderate rain' },
              wind_dir: 124,
              max_dhi: null,
              clouds_hi: 9,
              precip: 10.25,
              low_temp: 16.4,
              max_temp: 27.1,
              moonset_ts: 1597419011,
              datetime: '2020-08-14',
              temp: 20.5,
              min_temp: 14.8,
              clouds_mid: 49,
              clouds_low: 2
            },
            {
              moonrise_ts: 1597455877,
              wind_cdir: 'SSE',
              rh: 55,
              pres: 790.992,
              high_temp: 25.9,
              sunset_ts: 1597518269,
              ozone: 262.268,
              moon_phase: 0.142382,
              wind_gust_spd: 3.90734,
              snow_depth: 0,
              clouds: 39,
              ts: 1597446060,
              sunrise_ts: 1597470188,
              app_min_temp: 16.7,
              wind_spd: 2.38002,
              pop: 75,
              wind_cdir_full: 'south-southeast',
              slp: 1015.64,
              moon_phase_lunation: 0.86,
              valid_date: '2020-08-15',
              app_max_temp: 24.7,
              vis: 22.0009,
              dewpt: 9.8,
              snow: 0,
              uv: 8.95438,
              weather: { icon: 'r01d', code: 500, description: 'Light rain' },
              wind_dir: 159,
              max_dhi: null,
              clouds_hi: 12,
              precip: 9.5,
              low_temp: 16.7,
              max_temp: 26,
              moonset_ts: 1597508872,
              datetime: '2020-08-15',
              temp: 19.7,
              min_temp: 16.4,
              clouds_mid: 38,
              clouds_low: 3
            },
            {
              moonrise_ts: 1597542277,
              wind_cdir: 'SSW',
              rh: 51,
              pres: 788.943,
              high_temp: 25.6,
              sunset_ts: 1597604604,
              ozone: 264.019,
              moon_phase: 0.0735224,
              wind_gust_spd: 4.94853,
              snow_depth: 0,
              clouds: 19,
              ts: 1597532460,
              sunrise_ts: 1597556628,
              app_min_temp: 16.7,
              wind_spd: 1.98116,
              pop: 35,
              wind_cdir_full: 'south-southwest',
              slp: 1013.05,
              moon_phase_lunation: 0.9,
              valid_date: '2020-08-16',
              app_max_temp: 25.5,
              vis: 24.135,
              dewpt: 10,
              snow: 0,
              uv: 10.1046,
              weather: { icon: 'c02d', code: 801, description: 'Few clouds' },
              wind_dir: 208,
              max_dhi: null,
              clouds_hi: 2,
              precip: 1.5,
              low_temp: 17.1,
              max_temp: 26.1,
              moonset_ts: 1597598579,
              datetime: '2020-08-16',
              temp: 20.9,
              min_temp: 16.5,
              clouds_mid: 19,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597631947,
              wind_cdir: 'S',
              rh: 50,
              pres: 786.432,
              high_temp: 29.3,
              sunset_ts: 1597690938,
              ozone: 265.903,
              moon_phase: 0.025345,
              wind_gust_spd: 5.00847,
              snow_depth: 0,
              clouds: 0,
              ts: 1597618860,
              sunrise_ts: 1597643069,
              app_min_temp: 17.1,
              wind_spd: 1.73266,
              pop: 0,
              wind_cdir_full: 'south',
              slp: 1009.72,
              moon_phase_lunation: 0.93,
              valid_date: '2020-08-17',
              app_max_temp: 25.2,
              vis: 24.135,
              dewpt: 10.1,
              snow: 0,
              uv: 10.1345,
              weather: { icon: 'c01d', code: 800, description: 'Clear Sky' },
              wind_dir: 183,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 18.3,
              max_temp: 26.6,
              moonset_ts: 1597688037,
              datetime: '2020-08-17',
              temp: 21.3,
              min_temp: 17.1,
              clouds_mid: 0,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597722014,
              wind_cdir: 'SW',
              rh: 37,
              pres: 785.195,
              high_temp: 24.4,
              sunset_ts: 1597777271,
              ozone: 265.384,
              moon_phase: 0.00269319,
              wind_gust_spd: 11.7176,
              snow_depth: 0,
              clouds: 7,
              ts: 1597705260,
              sunrise_ts: 1597729509,
              app_min_temp: 17.5,
              wind_spd: 3.28444,
              pop: 0,
              wind_cdir_full: 'southwest',
              slp: 1007.74,
              moon_phase_lunation: 0.97,
              valid_date: '2020-08-18',
              app_max_temp: 27.7,
              vis: 24.1349,
              dewpt: 6.3,
              snow: 0,
              uv: 10.1034,
              weather: { icon: 'c02d', code: 801, description: 'Few clouds' },
              wind_dir: 225,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 17,
              max_temp: 29.9,
              moonset_ts: 1597777205,
              datetime: '2020-08-18',
              temp: 23.3,
              min_temp: 17.8,
              clouds_mid: 7,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597812377,
              wind_cdir: 'S',
              rh: 36,
              pres: 784.844,
              high_temp: 27.4,
              sunset_ts: 1597863603,
              ozone: 264.77,
              moon_phase: 0.00874443,
              wind_gust_spd: 4.10357,
              snow_depth: 0,
              clouds: 0,
              ts: 1597791660,
              sunrise_ts: 1597815948,
              app_min_temp: 18,
              wind_spd: 2.06851,
              pop: 0,
              wind_cdir_full: 'south',
              slp: 1007.09,
              moon_phase_lunation: 1,
              valid_date: '2020-08-19',
              app_max_temp: 23.8,
              vis: 24.1348,
              dewpt: 5.3,
              snow: 0,
              uv: 2.37586,
              weather: { icon: 'c01d', code: 800, description: 'Clear Sky' },
              wind_dir: 169,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 19.9,
              max_temp: 29.5,
              moonset_ts: 1597866100,
              datetime: '2020-08-19',
              temp: 21,
              min_temp: 17,
              clouds_mid: 0,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597902898,
              wind_cdir: 'SW',
              rh: 39,
              pres: 785.342,
              high_temp: 29.6,
              sunset_ts: 1597949935,
              ozone: 267.757,
              moon_phase: 0.044308,
              wind_gust_spd: 3.4,
              snow_depth: 0,
              clouds: 0,
              ts: 1597878060,
              sunrise_ts: 1597902388,
              app_min_temp: 17,
              wind_spd: 2.62375,
              pop: 20,
              wind_cdir_full: 'southwest',
              slp: 1007.73,
              moon_phase_lunation: 0.03,
              valid_date: '2020-08-20',
              app_max_temp: 22.8,
              vis: 24.135,
              dewpt: 5.7,
              snow: 0,
              uv: 2.36139,
              weather: { icon: 'c01d', code: 800, description: 'Clear Sky' },
              wind_dir: 226,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0.0625,
              low_temp: 20.5,
              max_temp: 27.8,
              moonset_ts: 1597954784,
              datetime: '2020-08-20',
              temp: 20.1,
              min_temp: 16.9,
              clouds_mid: 0,
              clouds_low: 0
            },
            {
              moonrise_ts: 1597993460,
              wind_cdir: 'SW',
              rh: 40,
              pres: 786.4,
              high_temp: 27.2,
              sunset_ts: 1598036266,
              ozone: 270.012,
              moon_phase: 0.10753,
              wind_gust_spd: 2.60352,
              snow_depth: 0,
              clouds: 0,
              ts: 1597964460,
              sunrise_ts: 1597988828,
              app_min_temp: 17,
              wind_spd: 1.97708,
              pop: 0,
              wind_cdir_full: 'southwest',
              slp: 1008.83,
              moon_phase_lunation: 0.07,
              valid_date: '2020-08-21',
              app_max_temp: 24.3,
              vis: 24.1348,
              dewpt: 6.6,
              snow: 0,
              uv: 2.34951,
              weather: { icon: 'c01d', code: 800, description: 'Clear Sky' },
              wind_dir: 232,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 18.6,
              max_temp: 28.1,
              moonset_ts: 1598043338,
              datetime: '2020-08-21',
              temp: 21,
              min_temp: 17,
              clouds_mid: 0,
              clouds_low: 0
            },
            {
              moonrise_ts: 1598083996,
              wind_cdir: 'SW',
              rh: 26,
              pres: 788.317,
              high_temp: 30.9,
              sunset_ts: 1598122596,
              ozone: 265.076,
              moon_phase: 0.194089,
              wind_gust_spd: 3.70083,
              snow_depth: 0,
              clouds: 23,
              ts: 1598050860,
              sunrise_ts: 1598075267,
              app_min_temp: 18.6,
              wind_spd: 3.18562,
              pop: 0,
              wind_cdir_full: 'southwest',
              slp: 1010.24,
              moon_phase_lunation: 0.1,
              valid_date: '2020-08-22',
              app_max_temp: 26.5,
              vis: 24.1351,
              dewpt: 2.9,
              snow: 0,
              uv: 2.24492,
              weather: { icon: 'c02d', code: 802, description: 'Scattered clouds' },
              wind_dir: 222,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 20.7,
              max_temp: 30.9,
              moonset_ts: 1598131849,
              datetime: '2020-08-22',
              temp: 23.6,
              min_temp: 19.9,
              clouds_mid: 23,
              clouds_low: 0
            },
            {
              moonrise_ts: 1598174491,
              wind_cdir: 'SSE',
              rh: 16,
              pres: 790.299,
              high_temp: 30.7,
              sunset_ts: 1598208925,
              ozone: 261.06,
              moon_phase: 0.297818,
              wind_gust_spd: 4.20024,
              snow_depth: 0,
              clouds: 26,
              ts: 1598137260,
              sunrise_ts: 1598161707,
              app_min_temp: 19.4,
              wind_spd: 3.28993,
              pop: 0,
              wind_cdir_full: 'south-southeast',
              slp: 1012,
              moon_phase_lunation: 0.14,
              valid_date: '2020-08-23',
              app_max_temp: 27.8,
              vis: 24.1351,
              dewpt: -2.9,
              snow: 0,
              uv: 2.18244,
              weather: { icon: 'c02d', code: 802, description: 'Scattered clouds' },
              wind_dir: 168,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 20.5,
              max_temp: 30.7,
              moonset_ts: 1598220408,
              datetime: '2020-08-23',
              temp: 25.2,
              min_temp: 20.5,
              clouds_mid: 26,
              clouds_low: 0
            },
            {
              moonrise_ts: 1598264959,
              wind_cdir: 'SSW',
              rh: 24,
              pres: 790.07,
              high_temp: 30.3,
              sunset_ts: 1598295253,
              ozone: 261.351,
              moon_phase: 0.41158,
              wind_gust_spd: 3.91025,
              snow_depth: 0,
              clouds: 41,
              ts: 1598223660,
              sunrise_ts: 1598248146,
              app_min_temp: 19.3,
              wind_spd: 3.7107,
              pop: 0,
              wind_cdir_full: 'south-southwest',
              slp: 1011.88,
              moon_phase_lunation: 0.17,
              valid_date: '2020-08-24',
              app_max_temp: 26.2,
              vis: 24.135,
              dewpt: 2,
              snow: 0,
              uv: 2.26405,
              weather: { icon: 'c03d', code: 803, description: 'Broken clouds' },
              wind_dir: 207,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: 18.5,
              max_temp: 30.3,
              moonset_ts: 1598309102,
              datetime: '2020-08-24',
              temp: 23.9,
              min_temp: 18.5,
              clouds_mid: 41,
              clouds_low: 0
            },
            {
              moonrise_ts: 1598355415,
              wind_cdir: 'SSE',
              rh: 39,
              pres: 787.217,
              high_temp: null,
              sunset_ts: 1598381581,
              ozone: 265.062,
              moon_phase: 0.528137,
              wind_gust_spd: 1.72063,
              snow_depth: 0,
              clouds: 4,
              ts: 1598310060,
              sunrise_ts: 1598334585,
              app_min_temp: 17.5,
              wind_spd: 1.3004,
              pop: 0,
              wind_cdir_full: 'south-southeast',
              slp: 1011.05,
              moon_phase_lunation: 0.2,
              valid_date: '2020-08-25',
              app_max_temp: 17.5,
              vis: 24.1351,
              dewpt: 4.5,
              snow: 0,
              uv: 0,
              weather: { icon: 'c02d', code: 801, description: 'Few clouds' },
              wind_dir: 148,
              max_dhi: null,
              clouds_hi: 0,
              precip: 0,
              low_temp: null,
              max_temp: 18.6,
              moonset_ts: 1598311613,
              datetime: '2020-08-25',
              temp: 18.6,
              min_temp: 18.6,
              clouds_mid: 4,
              clouds_low: 0
            }
        ];          
        const expOutput = [
            {
                moonrise_ts: 1598355415,
                wind_cdir: 'SSE',
                rh: 39,
                pres: 787.217,
                high_temp: null,
                sunset_ts: 1598381581,
                ozone: 265.062,
                moon_phase: 0.528137,
                wind_gust_spd: 1.72063,
                snow_depth: 0,
                clouds: 4,
                ts: 1598310060,
                sunrise_ts: 1598334585,
                app_min_temp: 17.5,
                wind_spd: 1.3004,
                pop: 0,
                wind_cdir_full: 'south-southeast',
                slp: 1011.05,
                moon_phase_lunation: 0.2,
                valid_date: '2020-08-25',
                app_max_temp: 17.5,
                vis: 24.1351,
                dewpt: 4.5,
                snow: 0,
                uv: 0,
                weather: { icon: 'c02d', code: 801, description: 'Few clouds' },
                wind_dir: 148,
                max_dhi: null,
                clouds_hi: 0,
                precip: 0,
                low_temp: null,
                max_temp: 18.6,
                moonset_ts: 1598311613,
                datetime: '2020-08-25',
                temp: 18.6,
                min_temp: 18.6,
                clouds_mid: 4,
                clouds_low: 0
            }

        ];
        expect(getTravelDateWeather(mockData, new Date('2020-08-25'))).toEqual(expOutput);
    });
});